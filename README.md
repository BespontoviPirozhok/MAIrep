# Бот GeoEventy - отличный помощник для поиска мест и мероприятий для досуга

## Общая информация
Основа бота написана на [Aiogram](https://aiogram.dev/), база данных на [SQLAlchemy](https://www.sqlalchemy.org/), места ищем с применением [API Геосаджеста](https://yandex.ru/maps-api/docs/suggest-api/index.html), мероприятия смотрим в [KudaGO](https://docs.kudago.com/api/), разговариваем с [YandexGPT](https://yandex.cloud/ru/services/yandexgpt)

### Сам бот в telegram - [@GeoEventy_bot](https://t.me/GeoEventy_bot)

Создатели бота:
- Илья @LimaEternal - тимлид, разработчик интерфейса бота (**Поиск мест**, **Поиск мероприятий**, **Админ панель**), разработчик баз данных
- Арсений @IAMgoinger -  разработчик интерфейса бота (**Поиск мест**, **Профиль**), разработчик баз данных
- Анна @BespontoviiPirozh0k  - разработчик в сфере API поиска мест и мероприятий
- Илья @lyaschukilya - разработчик интерфейса бота (**Чат с ИИ**), разработчик в сфере API нейросетей


## Функционал бота
В нашем боте есть 5 ролей:
- Пользователь с ограничениями
- Обычный пользователь
- Менеджер
- Админ
- Владелец

При смене роли пользователя, ему приходит информационное сообщение от бота с названием его новой роли

Перед названием функции может быть написана роль, начиная с которой доступна данная опция. Если она не указана, то функция доступна для всех пользователей.

### Поиск мест:
- Поисковая выдача мест из интернета
- (Обычный пользователь) Добавление мест из интернета в базу данных бота
- Просмотр комментариев о месте
- Отметка о посещении мест
- (Обычный пользователь) Комментирование и оценка посещенных мест
- Удаление и редактирование своего комментария, оценки или отметки о посещении
- (Менеджер) Редактирование информации (категория, описание) о месте

### Профиль:
- Просмотр собственной роли и даты регистрации
- Просмотр всех своих посещенных мест и мероприятий, оценок и комментариев.

### Нейросеть:
- Составление рекомендаций на основе последних 5-ти посещенных мест
- Составление сводки комментариев у каждого места, у которого есть комментарии (обновляется каждые 5 комментариев)
- Чат с нейросетью для общения в контексте поиска мест и мероприятий
- Выбор пункта главного меню с помощью текстового запроса

### Поиск мероприятий:
- Поиск мероприятий по произвольному запросу
- Отметка/удаление отметки о посещении мероприятия

### Админ-меню:
- (Администратор) Назначение ролей всех пользователей кроме других администраторов
- (Администратор) Удаление всех коментариев и оценок пользователя при его ограничении
- (Администратор) Удаление отдельно взятого комментария из общего списка комментариев
- (Владелец) Назначение администраторов и изменение их роли 


## Запуск бота
Создание виртуального окружения:
```bash
python -m venv venv
```
Активация виртуального окружения:
```bash
./venv/Scripts/activate
```
Установка необходимых модулей:
```bash
pip install python-dotenv, aiogram, aiosqlite, sqlalchemy
```
Для запуска бота вам необходимо поместить файл .env в директорию проекта и запусить следующий файл: 
```bash
python main.py
```


